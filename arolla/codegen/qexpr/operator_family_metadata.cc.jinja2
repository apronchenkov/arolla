{# jinja2 file itself is NOT auto generated. -#}
// THIS FILE IS AUTOGENERATED. DO NOT EDIT.
// Build target: {{ build_target }}_metadata
{%  for hdr in hdrs %}
#include "{{ hdr }}"
{%- endfor %}{# hdr #}
#include "arolla/qexpr/operator_metadata.h"
#include "arolla/util/operator_name.h"

namespace {

template <class, class = void>
struct ReturnsStatusOr : std::false_type {};
template <class T>
struct ReturnsStatusOr<T, std::void_t<typename T::returns_status_or>>
    : T::returns_status_or {};

template <class, class = void>
struct AcceptsContext : std::false_type {};
template <class T>
struct AcceptsContext<T, std::void_t<typename T::accepts_context>>
    : T::accepts_context {};

int RegisterMetadata() {
  ::arolla::QExprOperatorFamilyMetadata metadata;
  metadata.name = AROLLA_OPERATOR_NAME("{{ op_family_name }}");
  ::arolla::BuildDetails& family_build_details = metadata.family_build_details;
  family_build_details.build_target = "{{ build_target }}";
  family_build_details.op_family_class = "{{ op_family_class }}";
  family_build_details.hdrs = {
{%- for hdr in hdrs %}
        "{{ hdr }}"
        {{- "," if not loop.last else "" }}
{%- endfor %}{# hdr -#}
        };
  family_build_details.deps = {
{%- for dep in deps %}
        "{{ dep }}"
        {{- "," if not loop.last else "" }}
{%- endfor %}{# dep -#}
        };
  family_build_details.op_class = family_build_details.op_family_class;
  family_build_details.op_class_details = {
    .returns_status_or = ReturnsStatusOr<{{ op_family_class }}>{},
    .accepts_context = AcceptsContext<{{ op_family_class }}>{},
    .arg_as_function_ids = {},
  };
  ::arolla::RegisterOperatorFamilyMetadataOrDie(std::move(metadata));
  return 57;
}

auto metadata_registered = RegisterMetadata();

}  // namespace
{# force keeping trailing newline #}
