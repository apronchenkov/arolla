{#- jinja2 file itself is NOT auto generated. -#}
// THIS FILE IS AUTOGENERATED. DO NOT EDIT.
// Build target: {{ build_target }}

#include "absl/status/status.h"
#include "absl/strings/string_view.h"
#include "google/protobuf/arena.h"
#include "arolla/codegen/operator_package/operator_package.h"
#include "arolla/codegen/operator_package/operator_package.pb.h"
#include "arolla/util/init_arolla.h"

namespace {

absl::Status run() {
  constexpr absl::string_view zlib_data(
      "{{ operator_package_data | cescape }}",
      {{ operator_package_data | count }});
  ::google::protobuf::Arena arena;
  auto operator_package_proto =
      ::google::protobuf::Arena::Create<::arolla::operator_package::OperatorPackageProto>(
          &arena);
  if (auto status =
          ParseEmbeddedOperatorPackage(zlib_data, operator_package_proto);
      !status.ok()) {
    return status;
  }
  return ::arolla::operator_package::LoadOperatorPackageProto(
      *operator_package_proto);
}

AROLLA_INITIALIZER(
    {%- if 'name' in arolla_initializer %}
    .name = "{{ arolla_initializer['name'] }}",
    {%- endif %}
    .deps = {
        arolla::initializer_dep::kQExprOperators,
        arolla::initializer_dep::kQTypes,
        arolla::initializer_dep::kS11n,
    {%- for dep in arolla_initializer.get('deps', []) %}
        "{{ dep }}",
    {%- endfor %}
    },
    .reverse_deps = {
        arolla::initializer_dep::kOperators,
    {%- for reverse_dep in arolla_initializer.get('reverse_deps', []) %}
        "{{ reverse_dep }}",
    {%- endfor %}
    },
    .init_fn = &run)

} // namespace

